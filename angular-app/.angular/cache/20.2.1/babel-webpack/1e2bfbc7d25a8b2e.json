{"ast":null,"code":"// src/app/the-app/the-app.ts\nimport { signal, computed, PLATFORM_ID } from '@angular/core';\nimport { isPlatformBrowser } from '@angular/common';\nimport { NgIf, NgFor, DatePipe, DecimalPipe } from '@angular/common';\nimport { provideCharts, withDefaultRegisterables, BaseChartDirective } from 'ng2-charts';\nimport { FolderTreeComponent } from '../folder-tree/folder-tree';\nimport { Infrastructure } from '../infrastructure/infrastructure';\nimport { Cicd } from '../cicd/cicd';\nimport { LiveOnAzure } from '../live-on-azure/live-on-azure';\nimport { HowItIsBuilt } from '../how-it-is-built/how-it-is-built';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../services/status\";\nfunction TheApp_div_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 4);\n    i0.ɵɵtext(1, \"Analyzing your project\\u2026\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction TheApp_div_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"No project data available\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction TheApp_ng_container_9_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 24)(1, \"div\", 25);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 26);\n    i0.ɵɵtext(4);\n    i0.ɵɵpipe(5, \"number\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const k_r1 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(k_r1.label);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(5, 2, k_r1.value));\n  }\n}\nfunction TheApp_ng_container_9_span_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 27);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const t_r2 = ctx.$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(t_r2);\n  }\n}\nfunction TheApp_ng_container_9_span_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 28);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const flag_r3 = ctx.$implicit;\n    i0.ɵɵclassProp(\"ok\", flag_r3.ok)(\"bad\", !flag_r3.ok);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate2(\" \", flag_r3.name, \": \", flag_r3.ok ? \"\\u2705\" : \"\\u274C\", \" \");\n  }\n}\nfunction TheApp_ng_container_9_ng_container_20_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelement(1, \"canvas\", 29);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"type\", \"doughnut\")(\"data\", ctx_r3.qualityGaugeData)(\"options\", ctx_r3.qualityOptions);\n  }\n}\nfunction TheApp_ng_container_9_ul_24_li_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const issue_r5 = ctx.$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\"\\u2022 \", issue_r5);\n  }\n}\nfunction TheApp_ng_container_9_ul_24_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ul\", 30);\n    i0.ɵɵtemplate(1, TheApp_ng_container_9_ul_24_li_1_Template, 2, 1, \"li\", 31);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const data_r6 = i0.ɵɵnextContext().ngIf;\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngForOf\", data_r6.codeQuality.issues);\n  }\n}\nfunction TheApp_ng_container_9_ng_container_29_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelement(1, \"canvas\", 29);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"type\", \"bar\")(\"data\", ctx_r3.locBarData)(\"options\", ctx_r3.locBarOptions);\n  }\n}\nfunction TheApp_ng_container_9_ng_container_33_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelement(1, \"canvas\", 29);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"type\", \"radar\")(\"data\", ctx_r3.techStackData)(\"options\", ctx_r3.techStackOptions);\n  }\n}\nfunction TheApp_ng_container_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 5);\n    i0.ɵɵtemplate(2, TheApp_ng_container_9_div_2_Template, 6, 4, \"div\", 6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 7)(4, \"div\", 8)(5, \"div\", 9)(6, \"h3\");\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"span\", 10);\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(10, \"div\", 11);\n    i0.ɵɵtext(11);\n    i0.ɵɵpipe(12, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"div\", 12);\n    i0.ɵɵtemplate(14, TheApp_ng_container_9_span_14_Template, 2, 1, \"span\", 13);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"div\", 14);\n    i0.ɵɵtemplate(16, TheApp_ng_container_9_span_16_Template, 2, 6, \"span\", 15);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(17, \"div\", 16)(18, \"h4\");\n    i0.ɵɵtext(19, \"Code Quality\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(20, TheApp_ng_container_9_ng_container_20_Template, 2, 3, \"ng-container\", 3);\n    i0.ɵɵelementStart(21, \"div\", 17);\n    i0.ɵɵtext(22);\n    i0.ɵɵpipe(23, \"number\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(24, TheApp_ng_container_9_ul_24_Template, 2, 1, \"ul\", 18);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(25, \"div\", 19)(26, \"div\", 20)(27, \"h4\");\n    i0.ɵɵtext(28, \"Lines of Code\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(29, TheApp_ng_container_9_ng_container_29_Template, 2, 3, \"ng-container\", 3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(30, \"div\", 20)(31, \"h4\");\n    i0.ɵɵtext(32, \"Technology Stack\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(33, TheApp_ng_container_9_ng_container_33_Template, 2, 3, \"ng-container\", 3);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(34, \"div\", 21)(35, \"div\", 20)(36, \"h4\");\n    i0.ɵɵtext(37, \"Folder Structure\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(38, \"app-folder-tree\", 22);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(39, \"div\", 23)(40, \"h4\");\n    i0.ɵɵtext(41, \"Executive Summary\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(42, \"pre\");\n    i0.ɵɵtext(43);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const data_r6 = ctx.ngIf;\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r3.kpis());\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(data_r6.projectName);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"v\", data_r6.version);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Analyzed: \", i0.ɵɵpipeBind2(12, 19, data_r6.analysisTimestamp, \"medium\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngForOf\", data_r6.technologyStack);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r3.infraFlags());\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngIf\", ctx_r3.isBrowser);\n    i0.ɵɵadvance();\n    i0.ɵɵclassProp(\"good\", data_r6.codeQuality.score > 80)(\"mid\", data_r6.codeQuality.score > 60 && data_r6.codeQuality.score <= 80)(\"low\", data_r6.codeQuality.score <= 60);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(23, 22, data_r6.codeQuality.score), \" / 100 \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", data_r6.codeQuality.issues == null ? null : data_r6.codeQuality.issues.length);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngIf\", ctx_r3.isBrowser);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngIf\", ctx_r3.isBrowser);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"root\", data_r6.folderStructure);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(data_r6.narrativeReport);\n  }\n}\nexport let TheApp = /*#__PURE__*/(() => {\n  class TheApp {\n    status;\n    loading = true;\n    insight = signal(null, ...(ngDevMode ? [{\n      debugName: \"insight\"\n    }] : []));\n    isBrowser;\n    locBarData = {\n      labels: [],\n      datasets: []\n    };\n    locBarOptions = {\n      responsive: true,\n      plugins: {\n        legend: {\n          display: true\n        }\n      },\n      scales: {\n        y: {\n          beginAtZero: true\n        }\n      }\n    };\n    qualityGaugeData = {\n      labels: ['Score', 'Gap'],\n      datasets: []\n    };\n    qualityOptions = {\n      responsive: true,\n      plugins: {\n        legend: {\n          display: false\n        }\n      }\n    };\n    techStackData = {\n      labels: [],\n      datasets: []\n    };\n    techStackOptions = {\n      responsive: true\n    };\n    kpis = computed(() => {\n      const d = this.insight();\n      if (!d) return [];\n      return [{\n        label: 'Angular LOC',\n        value: d.linesOfCode.angular\n      }, {\n        label: 'Flask LOC',\n        value: d.linesOfCode.flask\n      }, {\n        label: 'Terraform LOC',\n        value: d.linesOfCode.terraform\n      }, {\n        label: 'Total LOC',\n        value: d.linesOfCode.total\n      }, {\n        label: 'Quality Score',\n        value: d.codeQuality.score\n      }, {\n        label: 'Issues',\n        value: d.codeQuality.issues.length\n      }];\n    }, ...(ngDevMode ? [{\n      debugName: \"kpis\"\n    }] : []));\n    infraFlags = computed(() => {\n      const d = this.insight();\n      if (!d) return [];\n      return [{\n        name: 'Terraform',\n        ok: d.infrastructure.terraform\n      }, {\n        name: 'Docker Compose',\n        ok: d.infrastructure.dockerCompose\n      }, {\n        name: 'CI/CD',\n        ok: d.infrastructure.ciCd\n      }];\n    }, ...(ngDevMode ? [{\n      debugName: \"infraFlags\"\n    }] : []));\n    constructor(status, platformId) {\n      this.status = status;\n      this.isBrowser = isPlatformBrowser(platformId);\n    }\n    ngOnInit() {\n      this.status.getInsight().subscribe({\n        next: data => {\n          this.insight.set(data);\n          this.setupCharts(data);\n          this.loading = false;\n        },\n        error: err => {\n          console.error('Failed to load project insight', err);\n          this.loading = false;\n        }\n      });\n    }\n    setupCharts(d) {\n      this.locBarData = {\n        labels: ['Angular', 'Flask', 'Terraform'],\n        datasets: [{\n          data: [d.linesOfCode.angular, d.linesOfCode.flask, d.linesOfCode.terraform],\n          label: 'Lines of Code'\n        }]\n      };\n      const gap = Math.max(0, 100 - (d.codeQuality.score || 0));\n      this.qualityGaugeData = {\n        labels: ['Score', 'Remaining'],\n        datasets: [{\n          data: [d.codeQuality.score || 0, gap]\n        }]\n      };\n      this.techStackData = {\n        labels: d.technologyStack,\n        datasets: [{\n          data: d.technologyStack.map(() => 1),\n          label: 'Technologies'\n        }]\n      };\n    }\n    static ɵfac = function TheApp_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || TheApp)(i0.ɵɵdirectiveInject(i1.StatusService), i0.ɵɵdirectiveInject(PLATFORM_ID));\n    };\n    static ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: TheApp,\n      selectors: [[\"app-the-app\"]],\n      features: [i0.ɵɵProvidersFeature([provideCharts(withDefaultRegisterables())])],\n      decls: 13,\n      vars: 3,\n      consts: [[1, \"dashboard\"], [1, \"subtitle\"], [\"class\", \"loading\", 4, \"ngIf\"], [4, \"ngIf\"], [1, \"loading\"], [1, \"kpi-grid\"], [\"class\", \"kpi-card\", 4, \"ngFor\", \"ngForOf\"], [1, \"summary-row\"], [1, \"summary-left\"], [1, \"summary-heading\"], [1, \"version\"], [1, \"meta\"], [1, \"tags\"], [\"class\", \"tag\", 4, \"ngFor\", \"ngForOf\"], [1, \"infra\"], [\"class\", \"badge\", 3, \"ok\", \"bad\", 4, \"ngFor\", \"ngForOf\"], [1, \"quality-card\"], [1, \"quality-score\"], [\"class\", \"issues\", 4, \"ngIf\"], [1, \"charts-grid\"], [1, \"card\"], [1, \"bottom-grid\"], [3, \"root\"], [1, \"card\", \"narrative\"], [1, \"kpi-card\"], [1, \"kpi-label\"], [1, \"kpi-value\"], [1, \"tag\"], [1, \"badge\"], [\"baseChart\", \"\", 3, \"type\", \"data\", \"options\"], [1, \"issues\"], [4, \"ngFor\", \"ngForOf\"]],\n      template: function TheApp_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\");\n          i0.ɵɵelement(1, \"app-how-it-is-built\");\n          i0.ɵɵelementStart(2, \"div\", 0)(3, \"h2\");\n          i0.ɵɵtext(4, \"\\uD83D\\uDE80 Intelligent Dashboard\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(5, \"p\", 1);\n          i0.ɵɵtext(6, \"Live insights powered by Flask API\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(7, TheApp_div_7_Template, 2, 0, \"div\", 2)(8, TheApp_div_8_Template, 2, 0, \"div\", 3)(9, TheApp_ng_container_9_Template, 44, 24, \"ng-container\", 3);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(10, \"app-infrastructure\")(11, \"app-cicd\")(12, \"app-live-on-azure\");\n          i0.ɵɵelementEnd();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(7);\n          i0.ɵɵproperty(\"ngIf\", ctx.loading);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", !ctx.loading && !ctx.insight());\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", !ctx.loading && ctx.insight());\n        }\n      },\n      dependencies: [NgIf, NgFor, FolderTreeComponent, BaseChartDirective, Infrastructure, Cicd, LiveOnAzure, HowItIsBuilt, DatePipe, DecimalPipe],\n      styles: [\".dashboard[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:2rem;font-family:Inter,Segoe UI,sans-serif;color:#e0e0ff;animation:childFade .8s ease forwards}.dashboard[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2.5rem;color:#9a6bff;margin-bottom:.5rem;text-shadow:0 0 8px rgba(154,107,255,.5)}.dashboard[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{font-size:1.2rem;color:#c0c0ff;margin-bottom:2rem;opacity:.8}.loading[_ngcontent-%COMP%]{text-align:center;font-size:1.2rem;color:#6ea8fe;margin:20px 0}.kpi-grid[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:1rem;margin-bottom:2rem}.kpi-card[_ngcontent-%COMP%]{flex:1 1 150px;background:#19143299;border:1px solid rgba(154,107,255,.2);padding:1rem 1.5rem;border-radius:12px;text-align:center;box-shadow:0 0 15px #9a6bff4d;transition:transform .3s ease,box-shadow .3s ease}.kpi-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 0 25px #9a6bff99}.kpi-label[_ngcontent-%COMP%]{font-size:.9rem;font-weight:600;margin-bottom:.3rem}.kpi-value[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:700;color:#6ea8fe}.summary-row[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:2rem;margin-bottom:2rem}.summary-left[_ngcontent-%COMP%]{flex:2}.summary-heading[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.8rem;color:#9a6bff;text-shadow:0 0 8px rgba(154,107,255,.5);margin-bottom:.3rem}.summary-heading[_ngcontent-%COMP%]   .version[_ngcontent-%COMP%]{font-size:.9rem;color:#c0c0ff;margin-left:.5rem}.meta[_ngcontent-%COMP%]{font-size:.9rem;color:#aaf;margin-bottom:.5rem}.tags[_ngcontent-%COMP%]{margin-bottom:.5rem}.tag[_ngcontent-%COMP%]{display:inline-block;background:#9a6bff33;color:#e0e0ff;padding:3px 10px;border-radius:12px;font-size:.8rem;margin-right:5px}.infra[_ngcontent-%COMP%]{margin-top:.5rem}.badge[_ngcontent-%COMP%]{display:inline-block;font-size:.8rem;padding:4px 8px;border-radius:8px;margin-right:5px}.badge.ok[_ngcontent-%COMP%]{background-color:#28a74533;color:#28a745}.badge.bad[_ngcontent-%COMP%]{background-color:#dc354533;color:#dc3545}.quality-card[_ngcontent-%COMP%]{flex:1;background:#19143299;border:1px solid rgba(154,107,255,.2);border-radius:12px;padding:1rem;text-align:center;box-shadow:0 0 15px #9a6bff4d}.quality-score[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:700;margin-top:.5rem}.quality-score.good[_ngcontent-%COMP%]{color:#28a745}.quality-score.mid[_ngcontent-%COMP%]{color:#ffc107}.quality-score.low[_ngcontent-%COMP%]{color:#dc3545}.charts-grid[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:1.5rem;margin-bottom:2rem}.card[_ngcontent-%COMP%]{flex:1;background:#19143299;border:1px solid rgba(154,107,255,.2);padding:1rem;border-radius:12px;box-shadow:0 0 15px #9a6bff4d}.bottom-grid[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:1.5rem}.narrative[_ngcontent-%COMP%]   pre[_ngcontent-%COMP%]{white-space:pre-wrap;word-wrap:break-word;color:#c0c0ff}\"]\n    });\n  }\n  return TheApp;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}